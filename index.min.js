"use strict";(function(){var e=this,t=e.AllErrorHandler;class n{constructor(e,t=!0){if(!e)throw new Error("Missing callback function");this._callback=e,this._listening=!1,t&&this._setupEvents()}startListening(){this._listening||this._setupEvents()}stopListening(){this._listening&&this._setupEvents(!1)}noConflict(){return e.AllErrorHandler=t,n}dispose(){this._listening&&this._setupEvents(!1),this._callback=null}_setupEvents(e=!0){this._listening=!!e,e?"undefined"!=typeof window?window.addEventListener("error",this._callback):process.on("uncaughtException",this._callback):"undefined"!=typeof window?window.removeEventListener("error",this._callback):process.removeListener("uncaughtException",this._callback)}}"function"==typeof define&&define.amd?define([],n):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports.AllErrorHandler=n):e.AllErrorHandler=n}).call(this);