(function(){var e=this,n=e.AllErrorHandler;class t{constructor(e,n=!0){if(!e)throw new Error("Missing callback function");this._callback=e,this._listening=n,this._setupEvents(this._listening)}startListening(){this._setupEvents(!0)}stopListening(){this._setupEvents(!1)}noConflict(){return e.AllErrorHandler=n,t}dispose(){this._listening&&this._setupEvents(!1),this._callback=null}_setupEvents(e){this._listening=!!e,e?"undefined"!=typeof window?window.addEventListener("error",this._callback):process.on("uncaughtException",this._callback):"undefined"!=typeof window?window.removeEventListener("error",this._callback):process.removeListener("uncaughtException",this._callback)}}"function"==typeof define&&define.amd?define([],function(){return e.AllErrorHandler=t}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.AllErrorHandler=t):e.AllErrorHandler=t}).call("undefined"!=typeof self?self:this);